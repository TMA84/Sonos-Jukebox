<ion-header>
    <ion-toolbar color="light">
        <ion-buttons slot="start">
            <ion-back-button icon="arrow-back-outline" defaultHref="/config"></ion-back-button>
        </ion-buttons>
        <ion-title>Edit Library</ion-title>
        <ion-buttons slot="end">
            <ion-button (click)="toggleKeyboard()">
                <ion-icon name="{{showKeyboard ? 'keypad' : 'keypad-outline'}}"></ion-icon>
            </ion-button>
            <ion-button (click)="addButtonPressed()">
                <ion-icon slot="icon-only" name="add-outline"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-list mode="ios">
        <ion-item *ngFor="let item of media; let i = index" lines="inset">
            <ion-grid>
                <ion-row>
                    <ion-col size="2">
                        <ion-label color="dark" class="transparent">
                            <p>Type:</p>
                            <p>Category:</p>
                            <p>Artist:</p>
                            <p>Title:</p>
                            <p>Query:</p>
                            <p>ID:</p>
                            <p>ArtistID:</p>
                            <p>Image:</p>
                        </ion-label>
                    </ion-col>
                    <ion-col size="9">
                        <ion-label color="dark">
                            <p class="transparent">{{item.category || 'audiobook'}}</p>
                            <p class="transparent">{{item.type || '-'}}</p>
                            <p>{{item.artist || '-'}}</p>
                            <p>{{item.title || '-'}}</p>
                            <p>{{item.query || '-'}}</p>
                            <p>{{item.id || '-'}}</p>
                            <p>{{item.artistid || '-'}}</p>
                            <p class="transparent">{{item.cover || '-'}}</p>
                        </ion-label>
                    </ion-col>
                    <ion-col size="1" class="vertical-center-content">
                        <ion-button color="danger" slots="icon-only" class="round" (click)="deleteButtonPressed(i)">
                            <ion-icon name="close" class="larger"></ion-icon>
                        </ion-button>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-item>
    </ion-list>

    <!-- Virtual Keyboard -->
    <div *ngIf="showKeyboard" class="virtual-keyboard">
        <ion-grid>
            <ion-row>
                <ion-col size="1" *ngFor="let key of keyboardRows[0]">
                    <ion-button size="small" fill="outline" (click)="addKey(key)">{{key}}</ion-button>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col size="1" *ngFor="let key of keyboardRows[1]">
                    <ion-button size="small" fill="outline" (click)="addKey(key)">{{key}}</ion-button>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col size="1" *ngFor="let key of keyboardRows[2]">
                    <ion-button size="small" fill="outline" (click)="addKey(key)">{{key}}</ion-button>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col size="1" *ngFor="let digit of ['1','2','3','4','5','6','7','8','9','0']">
                    <ion-button size="small" fill="outline" (click)="addKey(digit)">{{digit}}</ion-button>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col size="2">
                    <ion-button size="small" fill="outline" (click)="toggleCase()">{{isUpperCase ? 'abc' : 'ABC'}}</ion-button>
                </ion-col>
                <ion-col size="6">
                    <ion-button size="small" fill="outline" (click)="addKey(' ')">Space</ion-button>
                </ion-col>
                <ion-col size="2">
                    <ion-button size="small" fill="outline" (click)="backspace()">
                        <ion-icon name="backspace-outline"></ion-icon>
                    </ion-button>
                </ion-col>
                <ion-col size="2">
                    <ion-button size="small" fill="solid" (click)="hideKeyboard()">Done</ion-button>
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>
</ion-content>