<app-search-filter 
  [placeholder]="'Search albums...'"
  (searchChange)="onSearchChange($event)">
</app-search-filter>

<ion-grid>
  <ion-row>
    <ion-col size="4" *ngFor="let item of displayedItems; trackBy: trackByFn">
      <ion-card class="media-card">
        <img 
          [src]="getItemCover(item)" 
          (click)="itemClick.emit(item)"
          loading="lazy"
          draggable="false">
        <ion-card-header (click)="nameClick.emit(item)">
          <ion-card-title class="ion-text-nowrap truncate-text">
            {{getItemTitle(item)}}
          </ion-card-title>
        </ion-card-header>
      </ion-card>
    </ion-col>
  </ion-row>
  <ion-row *ngIf="displayedItems.length === 0 && searchTerm">
    <ion-col size="12" class="ion-text-center">
      <p>No results found for "{{searchTerm}}"</p>
    </ion-col>
  </ion-row>
</ion-grid>

<ion-infinite-scroll 
  threshold="100px" 
  (ionInfinite)="onInfiniteScroll($event)"
  [disabled]="!hasMore">
  <ion-infinite-scroll-content
    loadingSpinner="bubbles"
    loadingText="Loading more albums...">
  </ion-infinite-scroll-content>
</ion-infinite-scroll>